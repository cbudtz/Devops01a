(window.webpackJsonpweb=window.webpackJsonpweb||[]).push([[0],{27:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},33:function(e,t,n){e.exports=n(51)},38:function(e,t,n){},40:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),i=n.n(r),c=(n(38),n(27)),l=n.n(c),s=(n(39),n(40),n(14)),u=n(9),f=n(11),g=n.n(f),h=n(19),d=n.n(h),p=n(28),m=n(12),E=n(13),v=n(2),w={LOGGING_IN:"Loading",LOGGEDOUT:"Logout",LOGGED_IN:"LoggedIn"},b=function(){function e(){Object(m.a)(this,e),this.state=w.LOGGEDOUT,this.token=null,this.logindata={username:"",password:""},this.token=localStorage.getItem("girafToken")}return Object(E.a)(e,[{key:"doLogin",value:function(){var e=this;this.state=w.LOGGING_IN,fetch("rest/login",{method:"POST",body:JSON.stringify(this.logindata),headers:{"Content-Type":"application/json"}}).then(function(t){t.text().then(function(t){console.log("Got Token: "+t),e.token=t,localStorage.setItem("girafToken",t),e.state=w.LOGGED_IN})}).catch(function(){return e.state=w.LOGGEDOUT})}}]),e}();Object(v.g)(b,{state:v.l,token:v.l,logindata:v.l});var k=new b,O={LOADING:"LOAD",DONE:"DONE",FAILED:"FAILED"},L=function(){function e(t){Object(m.a)(this,e),this.state=O.DONE,this.giraffes=["Loading giraffes"],this.fetchGiraffes()}return Object(E.a)(e,[{key:"fetchGiraffes",value:function(){var e=this,t=k.token;this.loading=O.LOADING,fetch("rest/giraffes",{headers:{Authorization:t}}).then(function(t){return t.json().then(function(t){e.giraffes=t,e.state=O.DONE})}).catch(function(){return e.state=O.FAILED})}},{key:"fetchGiraffes3",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("rest/giraffes");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,this.giraffes=n,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.giraffes=["Loading failed :("];case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()}]),e}();Object(v.g)(L,{giraffes:v.l});var G=new L,N=n(32),y=n(53);var A,j=Object(u.f)(function(e){var t=e.history,n=e.match;return console.log(t),console.log(n),o.a.createElement("div",null,o.a.createElement("h1",null,"About ",n.params.text),o.a.createElement(g.a,{onClick:function(){return t.push("/")}},"Go to front"))}),D=Object(N.a)(function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:l.a,className:"App-logo",alt:"logo"}),o.a.createElement("p",null,"Gl\xe6delig DevOps! E19 - 5/9 - version 5"),o.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React"),o.a.createElement(s.b,{to:"/about/giraffes"},"Look at About!"),o.a.createElement(u.c,null,o.a.createElement(u.a,{path:"/about/:text",component:j}),o.a.createElement(u.a,{exact:!0,path:"/",render:function(){return o.a.createElement("h1",null,"Welcome")}}),o.a.createElement(u.a,{render:function(){return o.a.createElement("h2",null,"noMatch - 404")}})),o.a.createElement("ul",null,G.giraffes.map(function(e,t){return o.a.createElement("li",{key:t},e.name)})),o.a.createElement(g.a,{onClick:function(){return G.giraffes.push("Elmer")}},"Tilf\xf8j giraf"),o.a.createElement(g.a,{onClick:function(){return G.giraffes.pop()}},"Fjern giraf"),o.a.createElement("h2",null,"Loginstatus = ",k.state),o.a.createElement(y.a,null,o.a.createElement(y.a.Group,null,o.a.createElement(y.a.Control,{type:"text",value:k.logindata.username,onChange:function(e){return k.logindata.username=e.target.value},placeholder:"Enter username"}),o.a.createElement(y.a.Control,{type:"text",value:k.logindata.password,placeholder:"Enter password",onChange:function(e){return k.logindata.password=e.target.value}})),o.a.createElement(g.a,{onClick:function(){return k.doLogin()}},"Login"))))}),I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}function C(){A.prompt()}window.addEventListener("beforeinstallprompt",function(e){console.log("Got beforeinstallprompt"),A=e,setTimeout(C,5e3)}),i.a.render(o.a.createElement(s.a,null,o.a.createElement(D,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");I?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):x(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):x(t,e)})}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.d301cf99.chunk.js.map